{% extends 'base.html' %}

{% block title %}Edit Album{% endblock %}

{% block content %}
    <h1>Edit Album</h1>
    <form method="POST">
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" class="form-control" id="title" name="title" value="{{ album.title }}" required>
        </div>
        <div class="form-group">
            <label for="release_year">Release Year</label>
            <input type="number" class="form-control" id="release_year" name="release_year" value="{{ album.release_year }}" required>
        </div>
        <div class="form-group">
            <label for="label">Label</label>
            <select class="form-control" id="label" name="label_id" required>
                {% for label in labels %}
                <option value="{{ label.id }}" {% if label.id == album.label_id %}selected{% endif %}>{{ label.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="artists">Artists</label>
            <select class="form-control" id="artists" name="artist_ids" multiple required>
                {% for artist in artists %}
                <option value="{{ artist.id }}" {% if artist in album.artists %}selected{% endif %}>{{ artist.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="genres">Genres</label>
            <select class="form-control" id="genres" name="genre_ids" multiple required>
                {% for genre in genres %}
                <option value="{{ genre.id }}" {% if genre in album.genres %}selected{% endif %}>{{ genre.name }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit" class="btn btn-primary">Update Album</button>
    </form>
{% endblock %}
